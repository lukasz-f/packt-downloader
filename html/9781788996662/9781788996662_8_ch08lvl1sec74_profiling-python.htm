<!DOCTYPE html>
<html class="ng-scope" lang="en" ng-app="PacktUnlimited" ng-strict-di=""><head class="ng-scope" ng-controller="metadataController as metadataController"><meta content="text/html; charset=utf-8" http-equiv="Content-Type"/><style class="vjs-styles-defaults">
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid {
        padding-top: 56.25%
      }
    </style><style type="text/css">@charset "UTF-8";[ng\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>
<title class="ng-binding" ng-bind-html="metadataController.pageTitle">Profiling Python - Learn Python Programming - Second Edition</title>
<link href="https://d3ginfw2u4xn7p.cloudfront.net/c825bf9a03a944639d91ecb1f0010fc4/images/favicon.ico" rel="shortcut icon" type="image/x-icon"/>
<meta content="CGEyu7dKgqkqBrxdainq9bY0WowOCMOdZ1nKVzzvYJg" name="google-site-verification"/>
<meta content="index,follow" name="robots"/>
<link href="https://fonts.googleapis.com/" rel="dns-prefetch"/>
<link href="https://maxcdn.bootstrapcdn.com/" rel="dns-prefetch"/>
<link href="https://cdn.polyfill.io/" rel="dns-prefetch"/>
<meta content="!" name="fragment"/>
<link href="https://subscription.packtpub.com/book/application_development/9781788996662/8/ch08lvl1sec74/profiling-python" ng-href="https://subscription.packtpub.com/book/application_development/9781788996662/8/ch08lvl1sec74/profiling-python" rel="canonical"/>
<meta content="There are a few different ways to profile a Python application." name="description"/>
<meta content="#212121" name="theme-color"/>
<meta class="ng-scope" content="book" ng-if="metadataController.productType" property="og:type"/>
<meta content="Profiling Python - Learn Python Programming - Second Edition" property="og:title"/>
<meta content="There are a few different ways to profile a Python application." property="og:description"/>
<meta content="https://subscription.packtpub.com/book/application_development/9781788996662/8/ch08lvl1sec74/profiling-python" property="og:url"/>
<meta content="https://d255esdrn735hr.cloudfront.net/sites/default/files/B10074_Ned_coccover.png" property="og:image"/>
<meta content="https://d255esdrn735hr.cloudfront.net/sites/default/files/B10074_Ned_coccover.png" property="og:image:secure_url"/>
<link href="https://d255esdrn735hr.cloudfront.net/sites/default/files/B10074_Ned_coccover.png" ng-href="https://d255esdrn735hr.cloudfront.net/sites/default/files/B10074_Ned_coccover.png" rel="image_src"/>
<meta class="ng-scope" content="Fabrizio Romano" name="book:author" ng-if="metadataController.productType &amp;&amp; metadataController.authorListString"/>
<meta class="ng-scope" content="9781788996662" name="book:isbn" ng-if="metadataController.productType &amp;&amp; metadataController.isbn"/>
<meta class="ng-scope" content="2018-06-29T06:10:00.000Z" name="book:release_date" ng-if="metadataController.productType &amp;&amp; metadataController.releaseDate"/>
<meta class="ng-scope" content="https://packtpub.com/" name="book:publisher" ng-if="metadataController.productType"/>
<meta content="Profiling Python - Learn Python Programming - Second Edition" name="twitter:title"/>
<meta content="There are a few different ways to profile a Python application." name="twitter:description"/>
<meta content="https://d255esdrn735hr.cloudfront.net/sites/default/files/B10074_Ned_coccover.png" name="twitter:image"/>
<meta content="summary" name="twitter:card"/>
<meta content="@packtpub" name="twitter:site"/>
<meta content="@packtpub" name="twitter:creator"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<base href="."/>
<link href="https://subscription.packtpub.com/images/apple-icons/apple-icon-57x57.png" rel="apple-touch-icon" sizes="57x57"/>
<link href="https://subscription.packtpub.com/images/apple-icons/apple-icon-72x72.png" rel="apple-touch-icon" sizes="72x72"/>
<link href="https://subscription.packtpub.com/images/apple-icons/apple-icon-114x114.png" rel="apple-touch-icon" sizes="114x114"/>
<link href="https://subscription.packtpub.com/images/apple-icons/apple-icon-144x144.png" rel="apple-touch-icon" sizes="144x144"/>
<link href="https://subscription.packtpub.com/images/apple-icons/apple-icon-180x180.png" rel="apple-touch-icon" sizes="180x180"/>
<link crossorigin="anonymous" href="./9781788996662_8_ch08lvl1sec74_profiling-python_files/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" rel="stylesheet"/>
<link href="./9781788996662_8_ch08lvl1sec74_profiling-python_files/css" rel="stylesheet" type="text/css"/>
<script async="" src="./9781788996662_8_ch08lvl1sec74_profiling-python_files/script.js"></script><script async="" src="./9781788996662_8_ch08lvl1sec74_profiling-python_files/f.txt" type="text/javascript"></script><script async="" src="./9781788996662_8_ch08lvl1sec74_profiling-python_files/profitwell.js"></script><script async="" src="./9781788996662_8_ch08lvl1sec74_profiling-python_files/inferredEvents.js"></script><script async="" src="./9781788996662_8_ch08lvl1sec74_profiling-python_files/445429252334850"></script><script async="" src="./9781788996662_8_ch08lvl1sec74_profiling-python_files/fbevents.js"></script><script async="" src="./9781788996662_8_ch08lvl1sec74_profiling-python_files/f.txt" type="text/javascript"></script><script async="" src="./9781788996662_8_ch08lvl1sec74_profiling-python_files/uwt.js" type="text/javascript"></script><script async="" src="./9781788996662_8_ch08lvl1sec74_profiling-python_files/analytics.js" type="text/javascript"></script><script async="" src="./9781788996662_8_ch08lvl1sec74_profiling-python_files/e8mdsr07" type="text/javascript"></script><script async="" src="./9781788996662_8_ch08lvl1sec74_profiling-python_files/heap-34805961.js" type="text/javascript"></script><script async="" src="./9781788996662_8_ch08lvl1sec74_profiling-python_files/hotjar-982604.js" type="text/javascript"></script><script async="" src="./9781788996662_8_ch08lvl1sec74_profiling-python_files/recaptcha__pl.js" type="text/javascript"></script><script async="" src="./9781788996662_8_ch08lvl1sec74_profiling-python_files/gtm.js"></script><script src="./9781788996662_8_ch08lvl1sec74_profiling-python_files/polyfill.min.js"></script>
<script async="" defer="" src="./9781788996662_8_ch08lvl1sec74_profiling-python_files/api.js"></script>
<script async="" defer="" ng-src="https://static.zuora.com/Resources/libs/hosted/1.3.0/zuora-min.js" src="./9781788996662_8_ch08lvl1sec74_profiling-python_files/zuora-min.js"></script>
<script>
            //Set your APP_ID
            var APP_ID = 'e8mdsr07'; // to come from wpConfig

            (function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',w.intercomSettings);}else{var d=document;var i=function(){i.c(arguments);};i.q=[];i.c=function(args){i.q.push(args);};w.Intercom=i;var l=function(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/' + APP_ID;var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);};if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})();

        </script><style id="mm_style_mm_cdApiStyleId_1" media="screen" type="text/css"></style>
<script async="" src="./9781788996662_8_ch08lvl1sec74_profiling-python_files/hotjar-982604(1).js"></script><script async="" charset="utf-8" src="./9781788996662_8_ch08lvl1sec74_profiling-python_files/modules.bb88fc9b50ded24ae044.js"></script><style type="text/css">iframe#_hjRemoteVarsFrame {display: none !important; width: 1px !important; height: 1px !important; opacity: 0 !important; pointer-events: none !important;}</style><style></style><script src="./9781788996662_8_ch08lvl1sec74_profiling-python_files/f(1).txt"></script><script src="./9781788996662_8_ch08lvl1sec74_profiling-python_files/f(2).txt"></script><script id="schema" type="application/ld+json">{
	"@context": "https://schema.org",
	"@type": "book",
	"author": [
		"Fabrizio Romano"
	],
	"datePublished": "2018-06-29T06:10:00.000Z",
	"image": "https://d255esdrn735hr.cloudfront.net/sites/default/files/B10074_Ned_coccover.png",
	"name": "Profiling Python - Learn Python Programming - Second Edition",
	"publisher": {
		"@type": "Organization",
		"name": "Packt",
		"logo": {
			"@type": "ImageObject",
			"url": "https://d3ginfw2u4xn7p.cloudfront.net/c825bf9a03a944639d91ecb1f0010fc4/images/white-packt.png"
		}
	},
	"isPartOf": "/book/application_development/9781788996662",
	"description": "There are a few different ways to profile a Python application.",
	"isbn": "9781788996662",
	"bookFormat": "https://schema.org/EBook"
}</script></head><body class="prototype-nav home-body" ng-class="{
    'cover-background': currentPage === 'login' ||
        currentPage === 'create-account' ||
        currentPage === 'password-reset',
    'checkout': currentPage === 'checkout',
    'has-footer': currentPage !== 'login' &amp;&amp;
        currentPage !== 'create-account' &amp;&amp;
        currentPage !== 'password-reset' &amp;&amp;
        currentPage !== 'product',
    'has-bottom-pagination': currentPage === 'saved' ||
        currentPage === 'bookmarks' ||
        currentPage === 'purchases' ||
        currentPage === 'history',
    
    'sidebar-open': showSideBarOverlay,
    'home-body': currentPage != 'create-account' || !freeWeekend,
    'free-weekend': currentPage === 'create-account' &amp;&amp; freeWeekend,
     }"><prerender-ready class="ng-isolate-scope">
<script>
    window.prerenderReady = false;
</script>
</prerender-ready>
<script>
                window.dataLayer = window.dataLayer || [];
                (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                })(window,document,'script','dataLayer','GTM-WJMM825');
            </script>
<script src="./9781788996662_8_ch08lvl1sec74_profiling-python_files/mmapi.js" type="text/javascript"></script><script id="" type="text/javascript">window.dataLayer=window.dataLayer||[];window.dataLayer.push({originalLocation:document.location.protocol+"//"+document.location.hostname+document.location.pathname+document.location.search});</script><script id="" type="text/javascript">Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(a){a=(this.document||this.ownerDocument).querySelectorAll(a);for(var b=a.length;0<=--b&&a.item(b)!==this;);return-1<b});</script><script id="mmpack.0" src="./9781788996662_8_ch08lvl1sec74_profiling-python_files/mmpackage-1.12.js" type="text/javascript"></script>

<script src="./9781788996662_8_ch08lvl1sec74_profiling-python_files/cookieconsent.min.js" type="text/javascript"></script>

<link href="./9781788996662_8_ch08lvl1sec74_profiling-python_files/app.104d50d2c3a3114104d18ba8a565ba3d.bundle.css" rel="stylesheet"/>


<sidebar-overlay class="ng-isolate-scope" show="showSideBarOverlay"></sidebar-overlay>
<div class="page">
<div class="alertbox" id="alertbox"></div>
<div autoscroll="true" class="ng-scope" ng-view="" style="height:100%;">




<div class="book-page-wrapper ng-scope">
<div class="container book-page">

<div class="clearfix"></div>



<div class="container-fluid" id="book-wrapper">
<div class="ng-scope" ng-include="productController.contentView" onload="productController.onFinishLoadContent()"><div class="col-sm-12 ng-scope reader-container" id="reader-content" ng-class="{'reader-container': productController.productType === 'book'}" ng-show="productController.isContentAvailable" on-finish-page-render="productController.applyFontSize()">
<div class="row">
<div class="book-content" style="position:relative;">
<div class="ng-binding" ng-bind-html="productController.content"><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch08lvl1sec74"></a>Profiling Python</h2></div></div><hr/></div><p>There are a few different ways to profile a <span>Python</span><a class="indexterm" id="id326160989"></a> application. Profiling means having the application run while keeping track of several different parameters, such as the number of times a function is called and the amount of time spent inside it. Profiling can help us find the bottlenecks in our application, so that we can improve only what is really slowing us down.</p><p>If you take a look at the profiling section in the standard library official documentation, you will see that there are a couple of different implementations of the same profiling interface—<code class="literal">profile</code> and <code class="literal">cProfile</code>:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><code class="literal">cProfile</code> is recommended for most users, it's a C extension with reasonable overhead that makes it suitable for profiling long-running programs</li><li style="list-style-type: disc"><code class="literal">profile</code> is a pure Python module whose interface is imitated by <code class="literal">cProfile</code>, but which adds significant overhead to profiled programs</li></ul></div><p>This interface does <span class="strong"><strong>determinist profiling</strong></span>, which <span>means</span><a class="indexterm" id="id326159248"></a> that all function calls, function returns, and exception events are monitored, and precise timings are made for the intervals between these events. Another approach, called <span class="strong"><strong>statistical profiling</strong></span>, randomly samples the effective instruction pointer, and <span>deduces</span><a class="indexterm" id="id326159227"></a> where time is being spent.</p><p>The latter usually involves less overhead, but provides only approximate results. Moreover, because of the way the Python interpreter runs the code, deterministic profiling doesn't add as much overhead as one would think, so I'll show you a simple example using <code class="literal">cProfile</code> from the command line.</p><p>We're going to calculate Pythagorean triples (I know, you've missed them...) using the following code:</p><div class="informalexample"><pre class="programlisting language-markup"><code class=" language-markup" data-code-index="0"># profiling/triples.py
def calc_triples(mx):
    triples = []
    for a in range(1, mx + 1):
        for b in range(a, mx + 1):
            hypotenuse = calc_hypotenuse(a, b)
            if is_int(hypotenuse):
                triples.append((a, b, int(hypotenuse)))
    return triples

def calc_hypotenuse(a, b):
    return (a**2 + b**2) ** .5

def is_int(n):  # n is expected to be a float
    return n.is_integer()

triples = calc_triples(1000)</code></pre></div><p>The script is extremely simple; we iterate <span>over</span><a class="indexterm" id="id326159210"></a> the interval [<code class="literal">1</code>, <code class="literal">mx</code>] with <code class="literal">a</code> and <code class="literal">b</code> (avoiding repetition of pairs by setting <code class="literal">b &gt;= a</code>) and we check whether they belong to a right triangle. We use <code class="literal">calc_hypotenuse</code> to get <code class="literal">hypotenuse</code> for <code class="literal">a</code> and <code class="literal">b</code>, and then, with <code class="literal">is_int</code>, we check whether it is an integer, which means (<span class="emphasis"><em>a</em></span>, <span class="emphasis"><em>b</em></span>, <span class="emphasis"><em>c</em></span>) is a Pythagorean triple. When we profile this script, we get information in a tabular form. The columns are <code class="literal">ncalls</code>, <code class="literal">tottime</code>, <code class="literal">percall</code>, <code class="literal">cumtime</code>, <code class="literal">percall</code>, and <code class="literal">filename:lineno(function)</code>. They represent the amount of calls we made to a function, how much time we spent in it, and so on. I'll trim a couple of columns to save space, so if you run the profiling yourself—don't worry if you get a different result. Here is the code:</p><div class="informalexample"><pre class="programlisting language-markup"><code class=" language-markup" data-code-index="1"><span class="strong"><strong>$ python -m cProfile triples.py</strong></span>
<span class="strong"><strong>1502538 function calls in 0.704 seconds</strong></span>
<span class="strong"><strong>Ordered by: standard name</strong></span>

<span class="strong"><strong>ncalls tottime percall filename:lineno(function)</strong></span>
<span class="strong"><strong>500500   0.393   0.000 triples.py:17(calc_hypotenuse)</strong></span>
<span class="strong"><strong>500500   0.096   0.000 triples.py:21(is_int)</strong></span>
<span class="strong"><strong>     1   0.000   0.000 triples.py:4(<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>module</span><span class="token punctuation">&gt;</span></span>)</strong></span>
<span class="strong"><strong>     1   0.176   0.176 triples.py:4(calc_triples)</strong></span>
<span class="strong"><strong>     1   0.000   0.000 {built-in method builtins.exec}</strong></span>
<span class="strong"><strong>  1034   0.000   0.000 {method 'append' of 'list' objects}</strong></span>
<span class="strong"><strong>     1   0.000   0.000 {method 'disable' of '_lsprof.Profil...</strong></span>
<span class="strong"><strong>500500   0.038   0.000 {method 'is_integer' of 'float' objects}</strong></span></code></pre></div><p>Even with this limited amount of data, we can still infer some useful information about this code. First, we can see that the time complexity of the algorithm we have chosen grows with the square of the input size. The amount of times we get inside the inner loop body is exactly <span class="emphasis"><em>mx (mx + 1) / 2</em></span>. We run the script with <code class="literal">mx = 1000</code>, which means we get <code class="literal">500500</code> times inside the inner <code class="literal">for</code> loop. Three main things happen inside that loop: we call <code class="literal">calc_hypotenuse</code>, we call <code class="literal">is_int</code>, and, if the condition is met, we append it to the <code class="literal">triples</code> list.</p><p>Taking a look at the profiling report, we notice that the algorithm has spent <code class="literal">0.393</code> seconds inside <code class="literal">calc_hypotenuse</code>, which is way more than the <code class="literal">0.096</code> seconds spent inside <code class="literal">is_int</code>, given that they were called the same number of times, so let's see whether we can boost <code class="literal">calc_hypotenuse</code> a little.</p><p>As it turns out, we can. As I mentioned earlier in this book, the <code class="literal">**</code> power operator is quite expensive, and in <code class="literal">calc_hypotenuse</code>, we're using it three times. Fortunately, we can easily transform two of those into simple multiplications, like this:</p><div class="informalexample"><pre class="programlisting language-markup"><code class=" language-markup" data-code-index="2">def calc_hypotenuse(a, b): 
    return (a*a + b*b) ** .5 </code></pre></div><p>This simple change should improve things. If we run the <span>profiling</span><a class="indexterm" id="id325915737"></a> again, we see that <code class="literal">0.393</code> is now down to <code class="literal">0.137</code>. Not bad! This means now we're spending only about 37% of the time inside <code class="literal">calc_hypotenuse</code> that we were before.</p><p>Let's see whether we can improve <code class="literal">is_int</code> as well, by changing it, like this:</p><div class="informalexample"><pre class="programlisting language-markup"><code class=" language-markup" data-code-index="3">def is_int(n): 
    return n == int(n) </code></pre></div><p>This implementation is different, and the advantage is that it also works when <code class="literal">n</code> is an integer. Alas, when we run the profiling against it, we see that the time taken inside the <code class="literal">is_int</code> function has gone up to <code class="literal">0.135</code> seconds, so, in this case, we need to revert to the previous implementation. You will find the three versions in the source code for the book.</p><p>This example was trivial, of course, but enough to show you how one could profile an application. Having the amount of calls that are performed against a function helps us better understand the time complexity of our algorithms. For example, you wouldn't believe how many coders fail to see that those two <code class="literal">for</code> loops run proportionally to the square of the input size.</p><p>One thing to mention: depending on what system you're using, results may be different. Therefore, it's quite important to be able to profile software on a system that is as close as possible to the one the software is deployed on, if not actually on that one.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch08lvl2sec107"></a>When to profile?</h3></div></div></div><p>Profiling is super cool, but we need to know when it is <span>appropriate</span><a class="indexterm" id="id325915844"></a> to do it, and in what measure we need to address the results we get from it.</p><p>Donald Knuth once said, </p><div class="blockquote"><blockquote class="blockquote"><p><span class="emphasis"><em>"premature optimization is the root of all evil"</em></span>,</p></blockquote></div><p> and, although I wouldn't have put it down so drastically, I do agree with him. After all, who am I to disagree with the man who gave us <span class="emphasis"><em>The Art of Computer Programming, TeX</em></span>, and some of the coolest algorithms I have ever studied when I was a university student?</p><p>So, first and foremost: <span class="emphasis"><em>correctness</em></span>. You want your code to deliver the correct results, therefore write tests, find edge cases, and stress your code in every way you think makes sense. Don't be protective, don't put things in the back of your brain for later because you think they're not likely to happen. Be thorough.</p><p>Second, take care of coding <span class="emphasis"><em>best practices</em></span>. Remember the following—readability, extensibility, loose coupling, modularity, and design. Apply OOP principles: encapsulation, abstraction, single responsibility, open/closed, and so on. Read up on these concepts. They will open horizons for you, and they will expand the way you think about code.</p><p>Third, <span class="emphasis"><em>refactor like a beast!</em></span> The Boy Scouts rule says:</p><div class="blockquote"><blockquote class="blockquote"><p><span class="emphasis"><em><span class="emphasis"><em>"Always leave the campground cleaner than you found it</em></span>."</em></span></p></blockquote></div><p>Apply this rule to your code.</p><p>And, finally, when all of this has been taken care of, then and only then, take care of optimizing and profiling.</p><p>Run your profiler and identify bottlenecks. When you have an idea of the bottlenecks you need to address, start with the worst one first. Sometimes, fixing a bottleneck causes a ripple effect that will expand and change the way the rest of the code works. Sometimes this is only a little, sometimes a bit more, according to how your code was designed and implemented. Therefore, start with the biggest issue first.</p><p>One of the reasons Python is so popular is that it is possible to implement it in many different ways. So, if you find yourself having trouble boosting up some part of your code using sheer Python, nothing prevents you from rolling up your sleeves, buying 200 liters of coffee, and rewriting the slow piece of code in C—guaranteed to be fun!</p></div></div></div>
<div class="ng-hide" ng-show="!productController.entitled &amp;&amp; productController.isTruncatedContent">
<div class="fade-out" ng-show="productController.productType === 'book'">
</div>
</div>
<div class="ng-hide" ng-show="!productController.entitled &amp;&amp; productController.productType === 'video'">

</div>
</div>
<div class="video-wrapper ng-hide" ng-show="productController.productType === 'video' &amp;&amp; productController.entitled">

<div class="transcript panel panel-default ng-hide" id="transcript" ng-show="productController.hasCaptions"></div>
</div>


</div>






<div class="row ns">
<hr/>
</div>
</div>

</div>
</div>
</div>
</div>
</div>
</div>


<script src="./9781788996662_8_ch08lvl1sec74_profiling-python_files/app.dfc913a7d3f9c785692c.bundle.js" type="text/javascript"></script>
<script id="" type="text/javascript">hj("tagRecording",[google_tag_manager["GTM-WJMM825"].macro(5)]);</script><iframe id="_hjRemoteVarsFrame" name="_hjRemoteVarsFrame" src="./9781788996662_8_ch08lvl1sec74_profiling-python_files/box-90f3a29ef7448451db5af955688970d7.html" style="display: none !important; width: 1px !important; height: 1px !important; opacity: 0 !important; pointer-events: none !important;" title="_hjRemoteVarsFrame"></iframe><div></div><script id="" type="text/javascript">window.heap=window.heap||[];
heap.load=function(e,d){window.heap.appid=e;window.heap.config=d=d||{};var a=d.forceSSL||"https:"===document.location.protocol,b=document.createElement("script");b.type="text/javascript";b.async=!0;b.src=(a?"https:":"http:")+"//cdn.heapanalytics.com/js/heap-"+e+".js";a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(b,a);b=function(a){return function(){heap.push([a].concat(Array.prototype.slice.call(arguments,0)))}};a="addEventProperties addUserProperties clearEventProperties identify removeEventProperty setEventProperties track unsetEventProperty".split(" ");for(var c=
0;c<a.length;c++)heap[a[c]]=b(a[c])};window.heap.appid||heap.load("34805961");</script><script id="" type="text/javascript">var HeapUserId="undefined";"string"===typeof HeapUserId&&"undefined"!==HeapUserId&&window.heap.identify(HeapUserId);</script>
<script id="" type="text/javascript">!function(b,e,f,g,a,c,d){b.fbq||(a=b.fbq=function(){a.callMethod?a.callMethod.apply(a,arguments):a.queue.push(arguments)},b._fbq||(b._fbq=a),a.push=a,a.loaded=!0,a.version="2.0",a.queue=[],c=e.createElement(f),c.async=!0,c.src=g,d=e.getElementsByTagName(f)[0],d.parentNode.insertBefore(c,d))}(window,document,"script","//connect.facebook.net/en_US/fbevents.js");fbq("init","445429252334850");fbq("track","PageView");</script>

<script id="" type="text/javascript">window.dataLayer=window.dataLayer||[];window.dataLayer.push({pageLoaded:"pageLoaded"});</script><script id="" type="text/javascript">(function(a,e,f,g,b,c,d){a.ProfitWellObject=b;a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)};a[b].l=1*new Date;c=e.createElement(f);d=e.getElementsByTagName(f)[0];c.async=1;c.src=g;d.parentNode.insertBefore(c,d)})(window,document,"script","https://dna8twue3dlxq.cloudfront.net/js/profitwell.js","profitwell");profitwell("auth_token","8c79afc46264fdacbbb5c7bfc3b4800f");profitwell("user_email","");</script><iframe aria-hidden="true" id="intercom-frame" src="./9781788996662_8_ch08lvl1sec74_profiling-python_files/saved_resource.html" style="position: absolute !important; opacity: 0 !important; width: 1px !important; height: 1px !important; top: 0 !important; left: 0 !important; border: none !important; display: block !important; z-index: -1 !important;" tabindex="-1"></iframe><script src="./9781788996662_8_ch08lvl1sec74_profiling-python_files/adsct" type="text/javascript"></script><div id="intercom-css-container"><style data-emotion="intercom-global"></style><style data-emotion="intercom"></style></div><script id="" type="text/javascript">window.heap=window.heap||[];
heap.load=function(e,d){window.heap.appid=e;window.heap.config=d=d||{};var a=d.forceSSL||"https:"===document.location.protocol,b=document.createElement("script");b.type="text/javascript";b.async=!0;b.src=(a?"https:":"http:")+"//cdn.heapanalytics.com/js/heap-"+e+".js";a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(b,a);b=function(a){return function(){heap.push([a].concat(Array.prototype.slice.call(arguments,0)))}};a="addEventProperties addUserProperties clearEventProperties identify removeEventProperty setEventProperties track unsetEventProperty".split(" ");for(var c=
0;c<a.length;c++)heap[a[c]]=b(a[c])};window.heap.appid||heap.load("34805961");</script><script id="" type="text/javascript">var HeapUserId="72f2212e-37fa-4f9e-80a7-7aeb3cbd99b3";"string"===typeof HeapUserId&&"undefined"!==HeapUserId&&window.heap.identify(HeapUserId);</script>
<script id="" type="text/javascript">!function(b,e,f,g,a,c,d){b.fbq||(a=b.fbq=function(){a.callMethod?a.callMethod.apply(a,arguments):a.queue.push(arguments)},b._fbq||(b._fbq=a),a.push=a,a.loaded=!0,a.version="2.0",a.queue=[],c=e.createElement(f),c.async=!0,c.src=g,d=e.getElementsByTagName(f)[0],d.parentNode.insertBefore(c,d))}(window,document,"script","//connect.facebook.net/en_US/fbevents.js");fbq("init","445429252334850");fbq("track","PageView");</script>

<script id="" type="text/javascript">(function(c,d,e,f,g,a,b){c[e]=c[e]||[];a=d.createElement(f);a.async=1;a.src=g;b=d.getElementsByTagName(f)[0];b.parentNode.insertBefore(a,b)})(window,document,"_gscq","script","//widgets.getsitecontrol.com/95715/script.js");</script><script src="./9781788996662_8_ch08lvl1sec74_profiling-python_files/adsct" type="text/javascript"></script></body></html>