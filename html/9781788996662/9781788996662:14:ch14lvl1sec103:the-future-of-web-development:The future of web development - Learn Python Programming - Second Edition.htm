<!DOCTYPE html>
<html class="ng-scope" lang="en" ng-app="PacktUnlimited" ng-strict-di=""><head class="ng-scope" ng-controller="metadataController as metadataController"><meta content="text/html; charset=utf-8" http-equiv="Content-Type"/><style class="vjs-styles-defaults">
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid {
        padding-top: 56.25%
      }
    </style><style type="text/css">@charset "UTF-8";[ng\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>
<title class="ng-binding" ng-bind-html="metadataController.pageTitle">The future of web development - Learn Python Programming - Second Edition</title>
<link href="https://d3ginfw2u4xn7p.cloudfront.net/c825bf9a03a944639d91ecb1f0010fc4/images/favicon.ico" rel="shortcut icon" type="image/x-icon"/>
<meta content="CGEyu7dKgqkqBrxdainq9bY0WowOCMOdZ1nKVzzvYJg" name="google-site-verification"/>
<meta content="index,follow" name="robots"/>
<link href="https://fonts.googleapis.com/" rel="dns-prefetch"/>
<link href="https://maxcdn.bootstrapcdn.com/" rel="dns-prefetch"/>
<link href="https://cdn.polyfill.io/" rel="dns-prefetch"/>
<meta content="!" name="fragment"/>
<link href="https://subscription.packtpub.com/book/application_development/9781788996662/14/ch14lvl1sec103/the-future-of-web-development" ng-href="https://subscription.packtpub.com/book/application_development/9781788996662/14/ch14lvl1sec103/the-future-of-web-development" rel="canonical"/>
<meta content="Computer science is a very young subject, compared to other branches of science that have existed alongside humankind for centuries." name="description"/>
<meta content="#212121" name="theme-color"/>
<meta class="ng-scope" content="book" ng-if="metadataController.productType" property="og:type"/>
<meta content="The future of web development - Learn Python Programming - Second Edition" property="og:title"/>
<meta content="Computer science is a very young subject, compared to other branches of science that have existed alongside humankind for centuries." property="og:description"/>
<meta content="https://subscription.packtpub.com/book/application_development/9781788996662/14/ch14lvl1sec103/the-future-of-web-development" property="og:url"/>
<meta content="https://d255esdrn735hr.cloudfront.net/sites/default/files/B10074_Ned_coccover.png" property="og:image"/>
<meta content="https://d255esdrn735hr.cloudfront.net/sites/default/files/B10074_Ned_coccover.png" property="og:image:secure_url"/>
<link href="https://d255esdrn735hr.cloudfront.net/sites/default/files/B10074_Ned_coccover.png" ng-href="https://d255esdrn735hr.cloudfront.net/sites/default/files/B10074_Ned_coccover.png" rel="image_src"/>
<meta class="ng-scope" content="Fabrizio Romano" name="book:author" ng-if="metadataController.productType &amp;&amp; metadataController.authorListString"/>
<meta class="ng-scope" content="9781788996662" name="book:isbn" ng-if="metadataController.productType &amp;&amp; metadataController.isbn"/>
<meta class="ng-scope" content="2018-06-29T06:10:00.000Z" name="book:release_date" ng-if="metadataController.productType &amp;&amp; metadataController.releaseDate"/>
<meta class="ng-scope" content="https://packtpub.com/" name="book:publisher" ng-if="metadataController.productType"/>
<meta content="The future of web development - Learn Python Programming - Second Edition" name="twitter:title"/>
<meta content="Computer science is a very young subject, compared to other branches of science that have existed alongside humankind for centuries." name="twitter:description"/>
<meta content="https://d255esdrn735hr.cloudfront.net/sites/default/files/B10074_Ned_coccover.png" name="twitter:image"/>
<meta content="summary" name="twitter:card"/>
<meta content="@packtpub" name="twitter:site"/>
<meta content="@packtpub" name="twitter:creator"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<base href="."/>
<link href="https://subscription.packtpub.com/images/apple-icons/apple-icon-57x57.png" rel="apple-touch-icon" sizes="57x57"/>
<link href="https://subscription.packtpub.com/images/apple-icons/apple-icon-72x72.png" rel="apple-touch-icon" sizes="72x72"/>
<link href="https://subscription.packtpub.com/images/apple-icons/apple-icon-114x114.png" rel="apple-touch-icon" sizes="114x114"/>
<link href="https://subscription.packtpub.com/images/apple-icons/apple-icon-144x144.png" rel="apple-touch-icon" sizes="144x144"/>
<link href="https://subscription.packtpub.com/images/apple-icons/apple-icon-180x180.png" rel="apple-touch-icon" sizes="180x180"/>
<link crossorigin="anonymous" href="./9781788996662:14:ch14lvl1sec103:the-future-of-web-development:The future of web development - Learn Python Programming - Second Edition_files/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" rel="stylesheet"/>
<link href="./9781788996662:14:ch14lvl1sec103:the-future-of-web-development:The future of web development - Learn Python Programming - Second Edition_files/css" rel="stylesheet" type="text/css"/>
<script async="" src="./9781788996662:14:ch14lvl1sec103:the-future-of-web-development:The future of web development - Learn Python Programming - Second Edition_files/script.js"></script><script async="" src="./9781788996662:14:ch14lvl1sec103:the-future-of-web-development:The future of web development - Learn Python Programming - Second Edition_files/f.txt" type="text/javascript"></script><script async="" src="./9781788996662:14:ch14lvl1sec103:the-future-of-web-development:The future of web development - Learn Python Programming - Second Edition_files/profitwell.js"></script><script async="" src="./9781788996662:14:ch14lvl1sec103:the-future-of-web-development:The future of web development - Learn Python Programming - Second Edition_files/inferredEvents.js"></script><script async="" src="./9781788996662:14:ch14lvl1sec103:the-future-of-web-development:The future of web development - Learn Python Programming - Second Edition_files/445429252334850"></script><script async="" src="./9781788996662:14:ch14lvl1sec103:the-future-of-web-development:The future of web development - Learn Python Programming - Second Edition_files/fbevents.js"></script><script async="" src="./9781788996662:14:ch14lvl1sec103:the-future-of-web-development:The future of web development - Learn Python Programming - Second Edition_files/f.txt" type="text/javascript"></script><script async="" src="./9781788996662:14:ch14lvl1sec103:the-future-of-web-development:The future of web development - Learn Python Programming - Second Edition_files/uwt.js" type="text/javascript"></script><script async="" src="./9781788996662:14:ch14lvl1sec103:the-future-of-web-development:The future of web development - Learn Python Programming - Second Edition_files/analytics.js" type="text/javascript"></script><script async="" src="./9781788996662:14:ch14lvl1sec103:the-future-of-web-development:The future of web development - Learn Python Programming - Second Edition_files/e8mdsr07" type="text/javascript"></script><script async="" src="./9781788996662:14:ch14lvl1sec103:the-future-of-web-development:The future of web development - Learn Python Programming - Second Edition_files/heap-34805961.js" type="text/javascript"></script><script async="" src="./9781788996662:14:ch14lvl1sec103:the-future-of-web-development:The future of web development - Learn Python Programming - Second Edition_files/hotjar-982604.js" type="text/javascript"></script><script async="" src="./9781788996662:14:ch14lvl1sec103:the-future-of-web-development:The future of web development - Learn Python Programming - Second Edition_files/recaptcha__pl.js" type="text/javascript"></script><script async="" src="./9781788996662:14:ch14lvl1sec103:the-future-of-web-development:The future of web development - Learn Python Programming - Second Edition_files/gtm.js"></script><script src="./9781788996662:14:ch14lvl1sec103:the-future-of-web-development:The future of web development - Learn Python Programming - Second Edition_files/polyfill.min.js"></script>
<script async="" defer="" src="./9781788996662:14:ch14lvl1sec103:the-future-of-web-development:The future of web development - Learn Python Programming - Second Edition_files/api.js"></script>
<script async="" defer="" ng-src="https://static.zuora.com/Resources/libs/hosted/1.3.0/zuora-min.js" src="./9781788996662:14:ch14lvl1sec103:the-future-of-web-development:The future of web development - Learn Python Programming - Second Edition_files/zuora-min.js"></script>
<script>
            //Set your APP_ID
            var APP_ID = 'e8mdsr07'; // to come from wpConfig

            (function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',w.intercomSettings);}else{var d=document;var i=function(){i.c(arguments);};i.q=[];i.c=function(args){i.q.push(args);};w.Intercom=i;var l=function(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/' + APP_ID;var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);};if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})();

        </script>
<script async="" charset="utf-8" src="./9781788996662:14:ch14lvl1sec103:the-future-of-web-development:The future of web development - Learn Python Programming - Second Edition_files/modules.bb88fc9b50ded24ae044.js"></script><style id="mm_style_mm_cdApiStyleId_1" media="screen" type="text/css"></style><style type="text/css">iframe#_hjRemoteVarsFrame {display: none !important; width: 1px !important; height: 1px !important; opacity: 0 !important; pointer-events: none !important;}</style><script async="" src="./9781788996662:14:ch14lvl1sec103:the-future-of-web-development:The future of web development - Learn Python Programming - Second Edition_files/hotjar-982604(1).js"></script><style></style><script src="./9781788996662:14:ch14lvl1sec103:the-future-of-web-development:The future of web development - Learn Python Programming - Second Edition_files/f(1).txt"></script><script src="./9781788996662:14:ch14lvl1sec103:the-future-of-web-development:The future of web development - Learn Python Programming - Second Edition_files/f(2).txt"></script><script id="schema" type="application/ld+json">{
	"@context": "https://schema.org",
	"@type": "book",
	"author": [
		"Fabrizio Romano"
	],
	"datePublished": "2018-06-29T06:10:00.000Z",
	"image": "https://d255esdrn735hr.cloudfront.net/sites/default/files/B10074_Ned_coccover.png",
	"name": "The future of web development - Learn Python Programming - Second Edition",
	"publisher": {
		"@type": "Organization",
		"name": "Packt",
		"logo": {
			"@type": "ImageObject",
			"url": "https://d3ginfw2u4xn7p.cloudfront.net/c825bf9a03a944639d91ecb1f0010fc4/images/white-packt.png"
		}
	},
	"isPartOf": "/book/application_development/9781788996662",
	"description": "Computer science is a very young subject, compared to other branches of science that have existed alongside humankind for centuries.",
	"isbn": "9781788996662",
	"bookFormat": "https://schema.org/EBook"
}</script></head><body class="prototype-nav home-body" ng-class="{
    'cover-background': currentPage === 'login' ||
        currentPage === 'create-account' ||
        currentPage === 'password-reset',
    'checkout': currentPage === 'checkout',
    'has-footer': currentPage !== 'login' &amp;&amp;
        currentPage !== 'create-account' &amp;&amp;
        currentPage !== 'password-reset' &amp;&amp;
        currentPage !== 'product',
    'has-bottom-pagination': currentPage === 'saved' ||
        currentPage === 'bookmarks' ||
        currentPage === 'purchases' ||
        currentPage === 'history',
    
    'sidebar-open': showSideBarOverlay,
    'home-body': currentPage != 'create-account' || !freeWeekend,
    'free-weekend': currentPage === 'create-account' &amp;&amp; freeWeekend,
     }"><prerender-ready class="ng-isolate-scope">
<script>
    window.prerenderReady = false;
</script>
</prerender-ready>
<script>
                window.dataLayer = window.dataLayer || [];
                (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                })(window,document,'script','dataLayer','GTM-WJMM825');
            </script>
<script src="./9781788996662:14:ch14lvl1sec103:the-future-of-web-development:The future of web development - Learn Python Programming - Second Edition_files/mmapi.js" type="text/javascript"></script><script id="" type="text/javascript">window.dataLayer=window.dataLayer||[];window.dataLayer.push({originalLocation:document.location.protocol+"//"+document.location.hostname+document.location.pathname+document.location.search});</script><script id="" type="text/javascript">Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(a){a=(this.document||this.ownerDocument).querySelectorAll(a);for(var b=a.length;0<=--b&&a.item(b)!==this;);return-1<b});</script>
<script id="" type="text/javascript">hj("tagRecording",[google_tag_manager["GTM-WJMM825"].macro(4)]);</script><script id="mmpack.0" src="./9781788996662:14:ch14lvl1sec103:the-future-of-web-development:The future of web development - Learn Python Programming - Second Edition_files/mmpackage-1.12.js" type="text/javascript"></script>

<script src="./9781788996662:14:ch14lvl1sec103:the-future-of-web-development:The future of web development - Learn Python Programming - Second Edition_files/cookieconsent.min.js" type="text/javascript"></script>

<link href="./9781788996662:14:ch14lvl1sec103:the-future-of-web-development:The future of web development - Learn Python Programming - Second Edition_files/app.104d50d2c3a3114104d18ba8a565ba3d.bundle.css" rel="stylesheet"/>


<sidebar-overlay class="ng-isolate-scope" show="showSideBarOverlay"></sidebar-overlay>
<div class="page">
<div class="alertbox" id="alertbox"></div>
<div autoscroll="true" class="ng-scope" ng-view="" style="height:100%;">




<div class="book-page-wrapper ng-scope">
<div class="container book-page">

<div class="clearfix"></div>



<div class="container-fluid" id="book-wrapper">
<div class="ng-scope" ng-include="productController.contentView" onload="productController.onFinishLoadContent()"><div class="col-sm-12 ng-scope reader-container" id="reader-content" ng-class="{'reader-container': productController.productType === 'book'}" ng-show="productController.isContentAvailable" on-finish-page-render="productController.applyFontSize()">
<div class="row">
<div class="book-content" style="position:relative;">
<div class="ng-binding" ng-bind-html="productController.content"><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch14lvl1sec103"></a>The future of web development</h2></div></div><hr/></div><p>Computer science is a very young subject, compared to other branches of science that have existed alongside humankind for centuries. One of its main characteristics is that it <span>moves</span><a class="indexterm" id="id325999356"></a> extremely fast. It leaps forward with such speed that, in just a few years, you can see changes that are comparable to real-world changes that took a century to happen. Therefore, as a coder, you must pay attention to what happens in this world, all the time.</p><p>Currently, because powerful computers are quite cheap and almost everyone has access to them, the trend is to try to avoid putting too much workload on the backend, and let the frontend handle part of it. Therefore, in the last few years, JavaScript frameworks and libraries, such as jQuery, Backbone and, more recently, React, have become very popular. Web development has shifted from a paradigm where the backend takes care of handling data, preparing it, and serving it to the frontend to display it, to a paradigm where the backend is sometimes just used as an API, a sheer data provider. The frontend fetches the data from the backend with an API call, and then it takes care of the rest. This shift facilitates the existence of <span>paradigms</span><a class="indexterm" id="id325999339"></a> such as <span class="strong"><strong>Single-Page Application</strong></span> (<span class="strong"><strong>SPA</strong></span>), where, ideally, the whole page is loaded once and then evolves, based on the content that usually comes from the backend. E-commerce websites that load the results of a search in a page that doesn't refresh the surrounding structure are made with similar techniques. Browsers can perform asynchronous calls such as <span class="strong"><strong>Asynchronous JavaScript and XML</strong></span> (<span class="strong"><strong>AJAX</strong></span>) that can return data that can be read, manipulated, and injected back into the <span>page</span><a class="indexterm" id="id325999315"></a> with JavaScript code.</p><p>So, if you're planning to work on web development, I strongly suggest you to get acquainted with JavaScript (if you're not already), and also with APIs. In the last few pages of this chapter, I'll give you an example of how to make a simple API using two different Python microframeworks: Flask and Falcon.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch14lvl2sec171"></a>Writing a Flask view</h3></div></div></div><p>Flask (<a class="ulink" href="http://flask.pocoo.org/" target="_blank">http://flask.pocoo.org/</a>) is a Python <span>micro</span><a class="indexterm" id="id325993430"></a>framework. It provides far <span>fewer</span><a class="indexterm" id="id325993420"></a> features than Django, but if your project is meant to be very small, then it might be a better choice. In my <span>experience</span><a class="indexterm" id="id325993413"></a> though, when developers choose Flask at the beginning of a project, they eventually end up adding plugin after plugin, until they have what I call a Django Frankenstein project. Being agile means having periodically to spend time <span>reducing</span><a class="indexterm" id="id325993402"></a> the technical debt accumulated over time. However, switching from Flask to Django can be a daunting operation, so when starting a new project, make sure you consider its evolution. My cheeky opinion on this matter is very simple: I always go with Django, as I personally prefer it to Flask, but you might disagree with me, so I want to offer you an example.</p><p>In your <code class="literal">ch14</code> folder, create a <code class="literal">flask</code> folder with the following structure:</p><div class="informalexample"><pre class="programlisting language-markup"><code class=" language-markup" data-code-index="0"><span class="strong"><strong>$ tree -A flask  # from the ch14 folder</strong></span>
<span class="strong"><strong>flask</strong></span>
<span class="strong"><strong>├── main.py</strong></span>
<span class="strong"><strong>└── templates</strong></span>
<span class="strong"><strong>    └── main.html</strong></span></code></pre></div><p>Basically, we're going to code two simple files: a Flask application and an HTML template. Flask uses Jinja2 as a template engine. It's extremely popular and very fast, to the point that even Django started offering native support for it:</p><div class="informalexample"><pre class="programlisting language-markup"><code class=" language-markup" data-code-index="1"># flask/templates/main.html
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>!doctype</span> <span class="token attr-name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Hello from Flask<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>
  {% if name %}
    Hello {{ name }}!
  {% else %}
    Hello shy person!
  {% endif %}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span></code></pre></div><p>The template is almost offensively simple. All it does is change the greeting according to the presence of the <code class="literal">name</code> variable. A bit more interesting is the Flask application that renders it:</p><div class="informalexample"><pre class="programlisting language-markup"><code class=" language-markup" data-code-index="2"># flask/main.py
from flask import Flask, render_template

app = Flask(__name__)

@app.route('/')
@app.route('/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>')
def hello(name=None):
    return render_template('main.html', name=name)</code></pre></div><p>We create an <code class="literal">app</code> object, which is a Flask application. We only feed the fully qualified name of the module, which is stored in <code class="literal">__name__</code>.</p><p>Then, we write a simple <code class="literal">hello</code> view, which takes an optional <code class="literal">name</code> argument. In the body of the view, we simply render the <code class="literal">main.html</code> template, passing to it the <code class="literal">name</code> argument, regardless of its value.</p><p>What's interesting is the routing. Differently from Django's way of tying up views and URLs (the <code class="literal">urls.py</code> module), in <code class="literal">Flask</code> you decorate your views with one or more <code class="literal">@app.route</code> decorators. In this case, we decorate twice: the first line ties the view to the root URL (<code class="literal">/</code>), while the second line ties the view to the root URL with a name information (<code class="literal">/&lt;name&gt;</code>).</p><p>Change into the <code class="literal">flask</code> folder and type (make sure you have either installed Flask with <code class="literal">$ pip install flask</code> or by installing the requirements in the source code for the book):</p><div class="informalexample"><pre class="programlisting language-markup"><code class=" language-markup" data-code-index="3"><span class="strong"><strong>$ FLASK_APP=main.py flask run</strong></span></code></pre></div><p>You can open a <span>browser</span><a class="indexterm" id="id325982407"></a> and go to <code class="literal">http://127.0.0.1:5000/</code>. This URL has no name information; therefore, you will see <strong class="userinput"><code>Hello shy person!</code></strong> It is written all nice and big. Try to add something to that URL, such as <code class="literal">http://127.0.0.1:5000/Milena</code>. Hit <span class="emphasis"><em><span class="strong"><strong>Enter</strong></span></em></span> and the page will change to <strong class="userinput"><code>Hello Milena!</code></strong> (so you will have said hello to my sister).</p><p>Of course, Flask offers you much <span>more</span><a class="indexterm" id="id325982436"></a> than this, but we don't have the room to go through a more complex example. It's definitely worth exploring, though. Several projects use it successfully and it's fun and nice to create websites or APIs with it. Flask's author, Armin Ronacher, is a successful and very prolific coder. He also created or collaborated on several other interesting projects, such as Werkzeug, Jinja2, Click, and Sphinx. He also contributed functionalities to the Python AST module.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch14lvl2sec172"></a>Building a JSON quote server in Falcon</h3></div></div></div><p>Falcon (<a class="ulink" href="http://falconframework.org/" target="_blank">http://falconframework.org/</a>) is another micro<span>framework</span><a class="indexterm" id="id325993380"></a> written in Python, which was designed to be light, fast, and flexible. I have seen this relatively young project evolve to become <span>something</span><a class="indexterm" id="id325993388"></a> really popular due to its speed, which is impressive, so I'm happy to show you a tiny <span>example</span><a class="indexterm" id="id325993397"></a> using it. We're <span>going</span><a class="indexterm" id="id325995666"></a> to build an API that returns a random quote from the Buddha.</p><p>In your <code class="literal">ch14</code> folder, create a new one called <code class="literal">falcon</code>. We'll have two files: <code class="literal">quotes.py</code> and <code class="literal">main.py</code>. To run this example, install Falcon and Gunicorn (<code class="literal">$ pip install falcon gunicorn</code> or the full requirements for the book). Falcon is the framework, and <span class="strong"><strong>Gunicorn</strong></span> (<span class="strong"><strong>Green Unicorn</strong></span>) is a Python WSGI HTTP Server for Unix (which, in layman's terms, means the technology <span>that</span><a class="indexterm" id="id325995701"></a> is used to run the server).</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note96"></a>Note</h3><p>The Web Server Gateway Interface (WSGI) is a simple calling convention for web servers to forward requests to web applications or frameworks written in Python. If you wish to learn more, please checkout <a class="ulink" href="https://www.python.org/dev/peps/pep-0333/" target="_blank">PEP333</a>, which defines the interface.</p></div><p>When you're all set up, start by creating the <code class="literal">quotes.py</code> file:</p><div class="informalexample"><pre class="programlisting language-markup"><code class=" language-markup" data-code-index="4"># falcon/quotes.py
quotes = [
    "Thousands of candles can be lighted from a single candle, "
    "and the life of the candle will not be shortened. "
    "Happiness never decreases by being shared.",
    ...
    "Peace comes from within. Do not seek it without.",
    ...
]</code></pre></div><p>You will find the complete list of quotes in the source code for this book. If you don't have it, you can instead fill in your favorite quotes. Note that not every line has a comma at the end. In Python, it's possible to concatenate strings like that, as long as they are in brackets (or braces). It's called <span class="strong"><strong>implicit concatenation</strong></span>.</p><p>The code for the main <span>application</span><a class="indexterm" id="id325999369"></a> is not long, but it is interesting:</p><div class="informalexample"><pre class="programlisting language-markup"><code class=" language-markup" data-code-index="5"># falcon/main.py
import json
import random
import falcon
from quotes import quotes

class QuoteResource:
    def on_get(self, req, resp):
        quote = {
            'quote': random.choice(quotes),
            'author': 'The Buddha'
        }
        resp.body = json.dumps(quote)

api = falcon.API()
api.add_route('/quote', QuoteResource())</code></pre></div><p>Let's start with the class. In Django we had a <code class="literal">get</code> method, in Flask we defined a function, and here we write an <code class="literal">on_get</code> method, a naming style that reminds me of Java/C# event handlers. It takes a request and a response argument, both automatically fed by the framework. In its body, we define a <span>dictionary</span><a class="indexterm" id="id326026669"></a> with a randomly chosen quote, and the author information. Then we dump that dictionary to a JSON string and set the response body to its value. We don't need to return anything, Falcon will take care of it for us.</p><p>At the end of the file, we create the <span>Falcon</span><a class="indexterm" id="id326326483"></a> application, and we call <code class="literal">add_route</code> on it to tie the handler we have just written to the URL we want.</p><p>When you're all set up, change to the <code class="literal">falcon</code> folder and type:</p><div class="informalexample"><pre class="programlisting language-markup"><code class=" language-markup" data-code-index="6"><span class="strong"><strong>$ gunicorn main:api</strong></span></code></pre></div><p>Then, make a request (or simply open the page with your browser) to <code class="literal">http://127.0.0.1:8000/quote</code>. When I did it, I got this JSON in response:</p><div class="informalexample"><pre class="programlisting language-markup"><code class=" language-markup" data-code-index="7">{
  quote: "Peace comes from within. Do not seek it without.",
  author: "The Buddha"
}</code></pre></div><p>Within the <code class="literal">falcon</code> folder, I have left a <code class="literal">stress.py</code> module for you, which tests how fast our Falcon code is. See if you can make it work by yourself, it should be very easy for you at this point.</p><p>Whatever framework you end up using for your web development, try to keep yourself informed about other choices too. Sometimes you may be in situations where a different framework is the right way to go, and having a working knowledge of different tools will give you an advantage.</p></div></div></div>
<div class="ng-hide" ng-show="!productController.entitled &amp;&amp; productController.isTruncatedContent">
<div class="fade-out" ng-show="productController.productType === 'book'">
</div>
</div>
<div class="ng-hide" ng-show="!productController.entitled &amp;&amp; productController.productType === 'video'">

</div>
</div>
<div class="video-wrapper ng-hide" ng-show="productController.productType === 'video' &amp;&amp; productController.entitled">

<div class="transcript panel panel-default ng-hide" id="transcript" ng-show="productController.hasCaptions"></div>
</div>


</div>






<div class="row ns">
<hr/>
</div>
</div>

</div>
</div>
</div>
</div>
</div>
</div>


<script src="./9781788996662:14:ch14lvl1sec103:the-future-of-web-development:The future of web development - Learn Python Programming - Second Edition_files/app.dfc913a7d3f9c785692c.bundle.js" type="text/javascript"></script>
<iframe id="_hjRemoteVarsFrame" name="_hjRemoteVarsFrame" src="./9781788996662:14:ch14lvl1sec103:the-future-of-web-development:The future of web development - Learn Python Programming - Second Edition_files/box-90f3a29ef7448451db5af955688970d7.html" style="display: none !important; width: 1px !important; height: 1px !important; opacity: 0 !important; pointer-events: none !important;" title="_hjRemoteVarsFrame"></iframe><div></div><script id="" type="text/javascript">window.heap=window.heap||[];
heap.load=function(e,d){window.heap.appid=e;window.heap.config=d=d||{};var a=d.forceSSL||"https:"===document.location.protocol,b=document.createElement("script");b.type="text/javascript";b.async=!0;b.src=(a?"https:":"http:")+"//cdn.heapanalytics.com/js/heap-"+e+".js";a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(b,a);b=function(a){return function(){heap.push([a].concat(Array.prototype.slice.call(arguments,0)))}};a="addEventProperties addUserProperties clearEventProperties identify removeEventProperty setEventProperties track unsetEventProperty".split(" ");for(var c=
0;c<a.length;c++)heap[a[c]]=b(a[c])};window.heap.appid||heap.load("34805961");</script><script id="" type="text/javascript">var HeapUserId="undefined";"string"===typeof HeapUserId&&"undefined"!==HeapUserId&&window.heap.identify(HeapUserId);</script>
<script id="" type="text/javascript">!function(b,e,f,g,a,c,d){b.fbq||(a=b.fbq=function(){a.callMethod?a.callMethod.apply(a,arguments):a.queue.push(arguments)},b._fbq||(b._fbq=a),a.push=a,a.loaded=!0,a.version="2.0",a.queue=[],c=e.createElement(f),c.async=!0,c.src=g,d=e.getElementsByTagName(f)[0],d.parentNode.insertBefore(c,d))}(window,document,"script","//connect.facebook.net/en_US/fbevents.js");fbq("init","445429252334850");fbq("track","PageView");</script>

<script id="" type="text/javascript">window.dataLayer=window.dataLayer||[];window.dataLayer.push({pageLoaded:"pageLoaded"});</script><script id="" type="text/javascript">(function(a,e,f,g,b,c,d){a.ProfitWellObject=b;a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)};a[b].l=1*new Date;c=e.createElement(f);d=e.getElementsByTagName(f)[0];c.async=1;c.src=g;d.parentNode.insertBefore(c,d)})(window,document,"script","https://dna8twue3dlxq.cloudfront.net/js/profitwell.js","profitwell");profitwell("auth_token","8c79afc46264fdacbbb5c7bfc3b4800f");profitwell("user_email","");</script><iframe aria-hidden="true" id="intercom-frame" src="./9781788996662:14:ch14lvl1sec103:the-future-of-web-development:The future of web development - Learn Python Programming - Second Edition_files/saved_resource.html" style="position: absolute !important; opacity: 0 !important; width: 1px !important; height: 1px !important; top: 0 !important; left: 0 !important; border: none !important; display: block !important; z-index: -1 !important;" tabindex="-1"></iframe><script src="./9781788996662:14:ch14lvl1sec103:the-future-of-web-development:The future of web development - Learn Python Programming - Second Edition_files/adsct" type="text/javascript"></script><div id="intercom-css-container"><style data-emotion="intercom-global"></style><style data-emotion="intercom"></style></div><script id="" type="text/javascript">window.heap=window.heap||[];
heap.load=function(e,d){window.heap.appid=e;window.heap.config=d=d||{};var a=d.forceSSL||"https:"===document.location.protocol,b=document.createElement("script");b.type="text/javascript";b.async=!0;b.src=(a?"https:":"http:")+"//cdn.heapanalytics.com/js/heap-"+e+".js";a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(b,a);b=function(a){return function(){heap.push([a].concat(Array.prototype.slice.call(arguments,0)))}};a="addEventProperties addUserProperties clearEventProperties identify removeEventProperty setEventProperties track unsetEventProperty".split(" ");for(var c=
0;c<a.length;c++)heap[a[c]]=b(a[c])};window.heap.appid||heap.load("34805961");</script><script id="" type="text/javascript">var HeapUserId="72f2212e-37fa-4f9e-80a7-7aeb3cbd99b3";"string"===typeof HeapUserId&&"undefined"!==HeapUserId&&window.heap.identify(HeapUserId);</script>
<script id="" type="text/javascript">!function(b,e,f,g,a,c,d){b.fbq||(a=b.fbq=function(){a.callMethod?a.callMethod.apply(a,arguments):a.queue.push(arguments)},b._fbq||(b._fbq=a),a.push=a,a.loaded=!0,a.version="2.0",a.queue=[],c=e.createElement(f),c.async=!0,c.src=g,d=e.getElementsByTagName(f)[0],d.parentNode.insertBefore(c,d))}(window,document,"script","//connect.facebook.net/en_US/fbevents.js");fbq("init","445429252334850");fbq("track","PageView");</script>

<script id="" type="text/javascript">(function(c,d,e,f,g,a,b){c[e]=c[e]||[];a=d.createElement(f);a.async=1;a.src=g;b=d.getElementsByTagName(f)[0];b.parentNode.insertBefore(a,b)})(window,document,"_gscq","script","//widgets.getsitecontrol.com/95715/script.js");</script><script src="./9781788996662:14:ch14lvl1sec103:the-future-of-web-development:The future of web development - Learn Python Programming - Second Edition_files/adsct" type="text/javascript"></script></body></html>